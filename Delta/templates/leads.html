{% extends "base.html" %}

{% block content %}

<h3>All Leads</h3>

{% if leads|length == 0 %}
<div class="alert alert-info">
    No leads found. Add a new lead.
</div>
{% else %}
<table class="table table-striped table-bordered">
    <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Phone</th>
            <th>Source</th>
            <th>Status</th>
            <th>Action</th>
            <th>Score</th>
            <th>Created</th>
        </tr>
    </thead>
    <tbody>
        {% for lead in leads %}
        <tr>
            <td>{{ lead["id"] }}</td>
            <td>{{ lead["name"] }}</td>
            <td>{{ lead["phone"] }}</td>
            <td>{{ lead["source"] }}</td>
            <td>{{ lead["score"] }}</td>
            <td>{{ lead["created_at"] }}</td>
            <td>
                <span class="badge bg-primary">
                    {{ lead["status"] }}
                </span>
            </td>
            <td>
                <a href="/lead/{{ lead['id'] }}" class="btn btn-sm btn-info">
                    View
                </a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endif %}

{% endblock %}